## 出错处理
我们的web服务在出现错误的时候，错误都会被我们忽视掉，但是，这并不是一个好的做法，因为忽视错误可能会产生更多无法预期的行为，好点的做法是在服务出错的时候，我们应该返回一个错误信息给客户端，告知客户端出现了一个预期之外的错误。<br>
我们来看下renderTemplate函数是如何处理错误的
```golang
func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) {
    t, err := template.ParseFiles(tmpl + ".html")
    if err != nil {
        //返回错误信息，并且返回特殊的http状态吗，通常是5xx
        http.Error(w, err.Error(), http.StatusInternalServerError)
        return
    }
    err = t.Execute(w, p)
    if err != nil {
        http.Error(w, err.Error(), http.StatusInternalServerError)
    }
}
```
http.Error方法发送一个特殊的http返回码给客户端，这个例子中，是Internal Server Error错误码，如果我没有记错的话应该500，这里还加上一个错误信息err.<br>
现在我们来修改aveHandler方法吧
```go
func saveHandler(w http.ResponseWriter, r *http.Request) {
    title := r.URL.Path[len("/save/"):]
    body := r.FormValue("body")
    p := &Page{Title: title, Body: []byte(body)}
    err := p.save()
    if err != nil {
        http.Error(w, err.Error(), http.StatusInternalServerError)
        return
    }
    http.Redirect(w, r, "/view/"+title, http.StatusFound)
}
···
这个月，在调用p.save() 时候出现的错误都会被通知给用户。